<!-- Dark Mode Toggle Script -->
<script>
  // Initialize theme from localStorage or system preference
  (function() {
    const savedTheme = localStorage.getItem('nivo-theme');
    if (savedTheme) {
      jtd.setTheme(savedTheme);
    } else if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
      jtd.setTheme('nivo-dark');
    }
  })();
</script>

<style>
  /* Dark mode toggle button styling */
  .theme-toggle {
    background: transparent;
    border: 1px solid var(--nivo-primary, #3b82f6);
    border-radius: 0.5rem;
    padding: 0.375rem 0.75rem;
    cursor: pointer;
    font-size: 0.875rem;
    display: inline-flex;
    align-items: center;
    gap: 0.375rem;
    transition: background-color 0.2s, color 0.2s;
  }

  /* Light mode button appearance */
  .theme-toggle {
    color: #3b82f6;
  }

  .theme-toggle:hover {
    background-color: #eff6ff;
  }

  /* Dark mode button appearance */
  [data-theme="nivo-dark"] .theme-toggle {
    color: #60a5fa;
    border-color: #60a5fa;
  }

  [data-theme="nivo-dark"] .theme-toggle:hover {
    background-color: rgba(96, 165, 250, 0.1);
  }

  /* Icon styling */
  .theme-toggle svg {
    width: 1rem;
    height: 1rem;
  }

  /* Hide/show appropriate icon based on theme */
  .theme-toggle .sun-icon { display: none; }
  .theme-toggle .moon-icon { display: block; }

  [data-theme="nivo-dark"] .theme-toggle .sun-icon { display: block; }
  [data-theme="nivo-dark"] .theme-toggle .moon-icon { display: none; }
</style>
